Introduction
============

AppArmor 2.10.5 is a maintenance release of the user space components
of the AppArmor security project. The kernel portion of the project
is maintained and pushed separately.

This version of the userspace should work with all kernel versions from
2.6.15 and later (some earlier version of the kernel if they have the
apparmor patches applied).

AppArmor 2.10.5 was released 2019-06-15.


# Obtaining the Release
These release notes cover all changes between 2.10.4 (758ec0cdbd1978ff7b82fb0b18abc92687f81f59) and 2.10.5 (6a871a5082e7b9997132d152b27783dfea109a36) [apparmor-2.10 branch](https://gitlab.com/apparmor/apparmor/tree/apparmor-2.10).

Tarball
-   <https://launchpad.net/apparmor/2.10/2.10.5/+download/apparmor-2.10.5.tar.gz>
-   sha256sum: 94d6db4789423ed6f025e939b12720e1b8536a1dfabb0ff5f3265a584314bf8a
-   signature: <https://launchpad.net/apparmor/2.10/2.10.5/+download/apparmor-2.10.5.tar.gz.asc>

# Changes in This Release

Build Infrastructure
--------------------
- add files to .gitignore
  - parser/libapparmor\_re/parse.cc is autogenerated during build ([MR319][MR319])
  - parser/tst\_lib gets compiled during "make check" ([MR319][MR319])
  - swig auto generated files for ruby  ([MR366][MR366])
- fix libapparmor swig 4 failure 'aa\_log\_record' object has no attribute '\_\_getattr\_\_' ([BUG33][AABUG33])

Policy Compiler (a.k.a apparmor\_parser)
----------------------------------------
- fix abi rule skipping core dump on bad file names ([MR298][MR298])
- fix parsing of target profile NAME in directed transitions â€œpx -> NAME" ([MR334][MR334])

Policy
------
- Profiles
  - dnsmasq:
    - add permission to open log files
  - dovecot:
    - allow FD passing between dovecot and dovecot's anvil ([MR336][MR336])
    - allow chroot'ing the auth processes ([MR336][MR336])
    - let dovecot/anvil rw the auth-penalty socket ([MR336][MR336])
    - auth processes need to read from postfix auth socket ([MR336][MR336])
    - add abstractions/ssl\_certs to lmtp ([MR336][MR336])
    - allow master to use SIGTERM on children that are slow to die ([MR357][MR357])
  - identd: allow network netlink dgram ([MR353][MR353])
  - syslog-ng: add abstractions/python for python-parser ([MR361][MR361])

- Abstractions
  - fonts:
    - allow to read conf-avail dir itself ([MR165][MR165])
    - add various openSUSE-specific font config directories ([MR309][MR309])
  - nameservice: allow access to /run/netconfig/resolv.conf ([boo1097370][boo1097370])
  - qt5-compose-cache-write: fix anonymous shared memory access ([MR301][MR301])
  - qt5-settings-write: fix anonymous shared memory access ([MR302][MR302])
  - ssl\_certs,keys: add support for libdehydrated in /var/lib/ ([MR299][MR299])

Tests
-----
- fix mount test to use next available loop device ([MR379][MR379])

[AABUG33]: https://gitlab.com/apparmor/apparmor/issues/33
[boo1097370]: https://bugzilla.opensuse.org/show_bug.cgi?id=1097370
[MR165]: https://gitlab.com/apparmor/apparmor/merge_requests/165
[MR298]: https://gitlab.com/apparmor/apparmor/merge_requests/298
[MR299]: https://gitlab.com/apparmor/apparmor/merge_requests/299
[MR301]: https://gitlab.com/apparmor/apparmor/merge_requests/301
[MR302]: https://gitlab.com/apparmor/apparmor/merge_requests/302
[MR309]: https://gitlab.com/apparmor/apparmor/merge_requests/309
[MR319]: https://gitlab.com/apparmor/apparmor/merge_requests/319
[MR334]: https://gitlab.com/apparmor/apparmor/merge_requests/334
[MR336]: https://gitlab.com/apparmor/apparmor/merge_requests/336
[MR353]: https://gitlab.com/apparmor/apparmor/merge_requests/353
[MR357]: https://gitlab.com/apparmor/apparmor/merge_requests/357
[MR361]: https://gitlab.com/apparmor/apparmor/merge_requests/361
[MR366]: https://gitlab.com/apparmor/apparmor/merge_requests/366
[MR379]: https://gitlab.com/apparmor/apparmor/merge_requests/379
